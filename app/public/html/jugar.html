<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Aje10 - Jugar</title>
  <link rel="stylesheet" href="../css/jugar.css" />
  <link rel="stylesheet" href="https://unpkg.com/@chrisoakman/chessboardjs@1.0.0/dist/chessboard-1.0.0.min.css">
</head>
<body>
  <header class="topbar">
    <div class="brand">
      <div class="logo">â™Ÿ</div>
      <div class="brandName">Aje10</div>
    </div>

    <nav class="topnav">
      <a href="jugar.html" class="nav-link active">âš” JUGAR</a>
      <a href="inicio.html" class="nav-link">ğŸ  INICIO</a>
      <a href="learn.html" class="nav-link">ğŸ“š APRENDER</a>
      <a href="contact.html" class="nav-link">ğŸ’¬ CONTACTO</a>
    </nav>

    <div class="topRight">
      <a href="login.html" class="btn auth-btn btn-secondary">Acceder</a>
      <a href="registro.html" class="btn auth-btn btn-primary">Registro</a>
      <button id="theme-toggle" class="btn-theme" aria-label="Toggle theme">ğŸŒ™</button>
    </div>
  </header>

  <main class="contenedor">

<!-- Mode Selection Screen -->
<div id="modeSelection" class="game-mode-selection">
  <section class="hero">
    <h1>âš” Juega Ajedrez Online</h1>
    <p>Elige cÃ³mo quieres jugar</p>
  </section>

  <section class="game-modes">
    <div class="mode-card" id="createRoomBtn">
      <div class="mode-icon">ğŸ°</div>
      <h3>Crear Sala</h3>
      <p>Crea una sala privada y comparte el cÃ³digo con un amigo</p>
      <button class="btn btn-primary">Crear Sala</button>
    </div>
    
    <div class="mode-card" id="joinRoomBtn">
      <div class="mode-icon">ğŸšª</div>
      <h3>Unirse a Sala</h3>
      <p>Ãšnete a una sala existente con un cÃ³digo de acceso</p>
      <button class="btn btn-primary">Unirse</button>
    </div>
    
    <div class="mode-card">
      <div class="mode-icon">ğŸ¤–</div>
      <h3>Jugar vs Bot</h3>
      <p>Practica contra la inteligencia artificial</p>
      <a href="jugar_bot.html" class="btn btn-primary">Jugar vs IA</a>
    </div>
  </section>
</div>

<!-- Quick start button to open a simple board page -->
  <div style="text-align:center;margin-top:1.5rem;">
  <a class="btn btn-primary" href="play.html">Comenzar partida</a>
</div>

<!-- Room Creation Modal -->
<div id="createRoomModal" class="chess-modal" style="display: none;">
  <div class="modal-content">
    <h2>ğŸ° Crear Nueva Sala</h2>
    <p>Comparte este cÃ³digo con tu oponente:</p>
    <div class="room-code-display" id="roomCodeDisplay">
      <span id="generatedRoomCode">------</span>
      <button class="btn-copy" id="copyRoomCode">ğŸ“‹ Copiar</button>
    </div>
    <div class="modal-actions">
      <button class="btn btn-secondary" id="cancelCreateRoom">Cancelar</button>
      <button class="btn btn-primary" id="startGameAsHost">Iniciar Partida</button>
    </div>
  </div>
</div>

<!-- Join Room Modal -->
<div id="joinRoomModal" class="chess-modal" style="display: none;">
  <div class="modal-content">
    <h2>ğŸšª Unirse a Sala</h2>
    <p>Ingresa el cÃ³digo de la sala:</p>
    <input type="text" id="roomCodeInput" class="room-code-input" placeholder="CÃ³digo de sala" maxlength="6">
    <div class="modal-actions">
      <button class="btn btn-secondary" id="cancelJoinRoom">Cancelar</button>
      <button class="btn btn-primary" id="joinRoomConfirm">Unirse</button>
    </div>
  </div>
</div>

<!-- Bot Difficulty Modal -->
<div id="botDifficultyModal" class="chess-modal" style="display: none;">
  <div class="modal-content">
    <h2>ğŸ¤– Selecciona Dificultad</h2>
    <div class="difficulty-options">
      <button class="btn btn-primary difficulty-btn" data-level="1">FÃ¡cil</button>
      <button class="btn btn-primary difficulty-btn" data-level="2">Medio</button>
      <button class="btn btn-primary difficulty-btn" data-level="3">DifÃ­cil</button>
    </div>
    <div class="modal-actions">
      <button class="btn btn-secondary" id="cancelBotGame">Cancelar</button>
    </div>
  </div>
</div>

<!-- Chess Game Screen -->
<div id="gameScreen" style="display: none;">
  <section class="chess-game-container">
    <div class="game-header">
      <div class="game-info">
        <h2 id="gameTitle">Partida de Ajedrez</h2>
        <p id="gameStatus">Turno de las blancas</p>
      </div>
      <div class="game-actions">
        <button class="btn btn-secondary" id="resignBtn">ğŸ³ï¸ Rendirse</button>
        <button class="btn btn-secondary" id="newGameBtn">ğŸ”„ Nueva Partida</button>
      </div>
    </div>
    
    <div class="chess-board-wrapper">
      <div id="chessBoard" class="chess-board"></div>
    </div>
    
    <div class="game-controls">
      <div class="move-history">
        <h3>Historial de Movimientos</h3>
        <div id="moveList" class="move-list"></div>
      </div>
      
      <div class="captured-pieces">
        <div class="captured-white">
          <h4>Capturadas Blancas:</h4>
          <div id="capturedWhite"></div>
        </div>
        <div class="captured-black">
          <h4>Capturadas Negras:</h4>
          <div id="capturedBlack"></div>
        </div>
      </div>
    </div>
  </section>
</div>

  </main>

  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script src="https://unpkg.com/@chrisoakman/chessboardjs@1.0.0/dist/chessboard-1.0.0.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/chess.js/0.12.0/chess.min.js"></script>

  <script src="../js/theme.js"></script>
  <script src="/js/chess-game.js"></script>
  </body>
</html>
